#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	27000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-30,127476},
        {-25,96862},
        {-20,74354},
        {-15,57626},
        {-10,45068},
        { -5,35548},
        {  0,28267},
        {  5,22650},
        { 10,18280},
        { 15,14855},
        { 20,12151},
        { 25,10000},
        { 30,8279},
        { 35,6892},
        { 40,5768},
        { 45,4852},
        { 50,4101},
        { 55,3483},
        { 60,2970},
        { 65,2544},
        { 70,2188},
        { 75,1889},
        { 80,1637}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
{0  ,4339 },
{2  ,4336 },
{3  ,4313 },
{5  ,4294 },
{6  ,4276 },
{8  ,4258 },
{9  ,4241 },
{11 ,4224 },
{13 ,4207 },
{14 ,4191 },
{16 ,4175 },
{17 ,4159 },
{19 ,4144 },
{21 ,4127 },
{22 ,4111 },
{24 ,4095 },
{25 ,4082 },
{27 ,4072 },
{28 ,4055 },
{30 ,4030 },
{32 ,4003 },
{33 ,3980 },
{35 ,3963 },
{36 ,3950 },
{38 ,3940 },
{39 ,3932 },
{41 ,3923 },
{43 ,3913 },
{44 ,3902 },
{46 ,3892 },
{47 ,3882 },
{49 ,3873 },
{50 ,3864 },
{52 ,3855 },
{54 ,3847 },
{55 ,3839 },
{57 ,3832 },
{58 ,3825 },
{60 ,3819 },
{62 ,3813 },
{63 ,3807 },
{65 ,3802 },
{66 ,3797 },
{68 ,3792 },
{69 ,3788 },
{71 ,3784 },
{73 ,3781 },
{74 ,3779 },
{76 ,3776 },
{77 ,3773 },
{79 ,3770 },
{80 ,3767 },
{82 ,3764 },
{83 ,3760 },
{85 ,3757 },
{86 ,3755 },
{86 ,3752 },
{87 ,3750 },
{89 ,3769 },
{90 ,3754 },
{92 ,3742 },
{92 ,3736 },
{93 ,3732 },
{94 ,3727 },
{95 ,3723 },
{95 ,3719 },
{96 ,3716 },
{96 ,3712 },
{97 ,3710 },
{97 ,3708 },
{98 ,3706 },
{98 ,3705 },
{98 ,3704 },
{99 ,3703 },
{99 ,3702 },
{99 ,3702 },
{100,3701 },
{100,3400 }
};      

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{  
{0  ,4336},
{2  ,4305},
{3  ,4282},
{5  ,4262},
{6  ,4244},
{8  ,4227},
{9  ,4210},
{11 ,4194},
{12 ,4178},
{14 ,4162},
{15 ,4146},
{17 ,4130},
{18 ,4114},
{20 ,4099},
{21 ,4087},
{23 ,4077},
{24 ,4064},
{26 ,4039},
{27 ,4008},
{29 ,3984},
{30 ,3967},
{32 ,3953},
{33 ,3943},
{35 ,3935},
{36 ,3927},
{38 ,3917},
{39 ,3907},
{41 ,3896},
{42 ,3886},
{44 ,3877},
{46 ,3867},
{47 ,3858},
{48 ,3851},
{50 ,3843},
{52 ,3836},
{53 ,3829},
{55 ,3823},
{56 ,3816},
{58 ,3811},
{59 ,3805},
{61 ,3800},
{62 ,3795},
{64 ,3791},
{65 ,3787},
{67 ,3783},
{68 ,3780},
{70 ,3778},
{71 ,3775},
{73 ,3773},
{74 ,3770},
{76 ,3766},
{77 ,3763},
{79 ,3759},
{80 ,3755},
{82 ,3751},
{83 ,3746},
{85 ,3740},
{86 ,3734},
{88 ,3727},
{89 ,3720},
{91 ,3713},
{92 ,3708},
{94 ,3705},
{94 ,3702},
{95 ,3700},
{96 ,3698},
{96 ,3696},
{97 ,3694},
{97 ,3692},
{98 ,3691},
{98 ,3689},
{98 ,3686},
{99 ,3684},
{99 ,3682},
{99 ,3680},
{100,3677},
{100,3674},
{100,3400}
};           

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
{0  ,4339},
{1  ,4320},
{3  ,4302},
{4  ,4285},
{6  ,4267},
{7  ,4250},
{9  ,4233},
{10 ,4217},
{12 ,4200},
{13 ,4184},
{14 ,4168},
{16 ,4152},
{17 ,4136},
{19 ,4121},
{20 ,4105},
{22 ,4090},
{23 ,4075},
{24 ,4062},
{26 ,4049},
{27 ,4032},
{29 ,4016},
{30 ,4003},
{32 ,3993},
{33 ,3982},
{35 ,3970},
{36 ,3959},
{37 ,3947},
{39 ,3936},
{40 ,3922},
{42 ,3907},
{43 ,3891},
{45 ,3876},
{46 ,3865},
{48 ,3855},
{49 ,3846},
{50 ,3839},
{52 ,3832},
{53 ,3825},
{55 ,3819},
{56 ,3813},
{58 ,3808},
{59 ,3803},
{61 ,3799},
{62 ,3794},
{63 ,3790},
{65 ,3787},
{66 ,3783},
{68 ,3780},
{69 ,3777},
{71 ,3773},
{72 ,3768},
{73 ,3764},
{75 ,3759},
{76 ,3754},
{78 ,3748},
{79 ,3743},
{81 ,3738},
{82 ,3733},
{84 ,3725},
{85 ,3717},
{86 ,3710},
{88 ,3699},
{89 ,3690},
{91 ,3688},
{92 ,3686},
{94 ,3684},
{95 ,3677},
{97 ,3640},
{98 ,3571},
{99 ,3465},
{100,3349},
{100,3314},
{100,3296},
{100,3286},
{100,3281},
{100,3277},
{100,3273},
{100,3272}
};     

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
{0  ,4336},
{1  ,4312},
{3  ,4290},
{4  ,4270},
{6  ,4250},
{7  ,4233},
{9  ,4216},
{10 ,4199},
{12 ,4182},
{13 ,4167},
{15 ,4151},
{16 ,4134},
{17 ,4119},
{19 ,4104},
{20 ,4089},
{22 ,4074},
{23 ,4060},
{25 ,4047},
{26 ,4033},
{28 ,4019},
{29 ,4006},
{31 ,3994},
{32 ,3982},
{33 ,3971},
{35 ,3959},
{36 ,3948},
{38 ,3937},
{39 ,3925},
{41 ,3912},
{42 ,3898},
{44 ,3884},
{45 ,3870},
{46 ,3859},
{48 ,3850},
{49 ,3841},
{51 ,3834},
{52 ,3827},
{54 ,3821},
{55 ,3815},
{57 ,3809},
{58 ,3804},
{60 ,3799},
{61 ,3795},
{62 ,3790},
{64 ,3787},
{65 ,3783},
{67 ,3780},
{68 ,3776},
{70 ,3772},
{71 ,3766},
{73 ,3756},
{74 ,3748},
{76 ,3743},
{77 ,3737},
{78 ,3732},
{80 ,3728},
{81 ,3723},
{83 ,3718},
{84 ,3710},
{86 ,3702},
{87 ,3695},
{89 ,3685},
{90 ,3678},
{92 ,3677},
{93 ,3675},
{95 ,3671},
{96 ,3650},
{97 ,3592},
{99 ,3507},
{100,3370},
{100,3299},
{100,3283},
{100,3276},
{100,3273},
{100,3270},
{100,3268},
{100,3268},
{100,3266}
};           

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] =
{
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0}, 
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0}
};    

/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] =
{
{1040,4167},
{1040,4336},
{1030,4313},
{1020,4294},
{1010,4276},
{1000,4258},
{990 ,4241},
{983 ,4224},
{970 ,4207},
{963 ,4191},
{955 ,4175},
{885 ,4159},
{943 ,4144},
{943 ,4127},
{938 ,4111},
{930 ,4095},
{935 ,4082},
{945 ,4072},
{953 ,4055},
{948 ,4030},
{933 ,4003},
{918 ,3980},
{910 ,3963},
{910 ,3950},
{910 ,3940},
{915 ,3932},
{915 ,3923},
{918 ,3913},
{920 ,3902},
{925 ,3892},
{933 ,3882},
{943 ,3873},
{955 ,3864},
{968 ,3855},
{973 ,3847},
{988 ,3839},
{1005,3832},
{1023,3825},
{1040,3819},
{1055,3813},
{1068,3807},
{1085,3802},
{1108,3797},
{1128,3792},
{1103,3788},
{1160,3784},
{1188,3781},
{1238,3779},
{1268,3776},
{1300,3773},
{1335,3770},
{1365,3767},
{1400,3764},
{1400,3760},
{1395,3757},
{1388,3755},
{1383,3752},
{1375,3750},
{1230,3769},
{1358,3754},
{1355,3742},
{1343,3736},
{1330,3732},
{1318,3727},
{1308,3723}, 
{1300,3719},
{1290,3716},
{1283,3712},
{1278,3710},
{1270,3708},
{1268,3706},
{1265,3705},
{1263,3704},
{1260,3703},
{1258,3702},
{1263,3702},
{1255,3701},
{503 ,3400} 
 
};      

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = 
{
{955  ,4336},
{955  ,4305},
{948  ,4282},
{938  ,4262},
{928  ,4244},
{920  ,4227},
{908  ,4210},
{900  ,4194},
{890  ,4178},
{880  ,4162},
{873  ,4146},
{865  ,4130},
{855  ,4114},
{848  ,4099},
{843  ,4087},
{845  ,4077},
{845  ,4064},
{825  ,4039},
{798  ,4008},
{780  ,3984},
{773  ,3967},
{763  ,3953},
{763  ,3943},
{763  ,3935},
{763  ,3927},
{755  ,3917},
{750  ,3907},
{743  ,3896},
{740  ,3886},
{743  ,3877},
{740  ,3867},
{740  ,3858},
{745  ,3851},
{745  ,3843},
{750  ,3836},
{753  ,3829},
{758  ,3823},
{750  ,3816},
{763  ,3811},
{768  ,3805},
{773  ,3800},
{770  ,3795},
{775  ,3791},
{780  ,3787},
{785  ,3783},
{790  ,3780},
{800  ,3778},
{810  ,3775},
{820  ,3773},
{833  ,3770},
{843  ,3766},
{855  ,3763},
{870  ,3759},
{888  ,3755},
{910  ,3751},
{935  ,3746},
{963  ,3740},
{995  ,3734},
{1035 ,3727},
{1088 ,3720},
{1153 ,3713},
{1248 ,3708},
{1263 ,3705},
{1258 ,3702},
{1253 ,3700}, 
{1245 ,3698},
{1243 ,3696},
{1238 ,3694},
{1233 ,3692},
{1233 ,3691},
{1225 ,3689},
{1220 ,3686},
{1213 ,3684},
{1208 ,3682},
{1200 ,3680},
{1198 ,3677},
{1188 ,3674},
{505  ,3400}   
   
};     

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = 
{
{151 ,4339},
{151 ,4320},
{151 ,4302},
{154 ,4285},
{151 ,4267},
{151 ,4250},
{151 ,4233},
{157 ,4217},
{157 ,4200},
{160 ,4184},
{160 ,4168},
{162 ,4152},
{162 ,4136},
{171 ,4121},
{171 ,4105},
{173 ,4090},
{176 ,4075},
{179 ,4062},
{182 ,4049},
{179 ,4032},
{184 ,4016},
{187 ,4003},
{190 ,3993},
{193 ,3982},
{193 ,3970},
{198 ,3959},
{198 ,3947},
{201 ,3936},
{195 ,3922},
{184 ,3907},
{173 ,3891},
{160 ,3876},
{157 ,3865},
{154 ,3855},
{154 ,3846},
{154 ,3839},
{154 ,3832},
{154 ,3825},
{154 ,3819},
{154 ,3813},
{157 ,3808},
{160 ,3803},
{162 ,3799},
{162 ,3794},
{168 ,3790},
{171 ,3787},
{173 ,3783},
{176 ,3780},
{176 ,3777},
{173 ,3773},
{168 ,3768},
{168 ,3764},
{165 ,3759},
{165 ,3754},
{162 ,3748},
{162 ,3743},
{162 ,3738},
{165 ,3733},
{165 ,3725},
{168 ,3717},
{176 ,3710},
{176 ,3699},
{173 ,3690},
{182 ,3688},
{190 ,3686}, 
{204 ,3684},
{217 ,3677},
{217 ,3640},
{248 ,3571},
{314 ,3465},
{317 ,3349},
{319 ,3314},
{270 ,3296},
{242 ,3286},
{223 ,3281},
{217 ,3277},
{212 ,3273},
{201 ,3272} 
     
}; 

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = 
{
{176 ,4336},
{176 ,4312},
{173 ,4290},
{173 ,4270},
{171 ,4250},
{171 ,4233},
{173 ,4216},
{173 ,4199},
{173 ,4182},
{176 ,4167},
{176 ,4151},
{173 ,4134},
{176 ,4119},
{179 ,4104},
{179 ,4089},
{179 ,4074},
{182 ,4060},
{184 ,4047},
{187 ,4033},
{187 ,4019},
{190 ,4006},
{190 ,3994},
{193 ,3982},
{198 ,3971},
{198 ,3959},
{204 ,3948},
{209 ,3937},
{209 ,3925},
{206 ,3912},
{198 ,3898},
{190 ,3884},
{182 ,3870},
{179 ,3859},
{179 ,3850},
{176 ,3841},
{176 ,3834},
{176 ,3827},
{179 ,3821},
{179 ,3815},
{179 ,3809},
{179 ,3804},
{182 ,3799},
{184 ,3795},
{184 ,3790},
{187 ,3787},
{190 ,3783},
{193 ,3780},
{193 ,3776},
{193 ,3772},
{190 ,3766},
{182 ,3756},
{179 ,3748},
{182 ,3743},
{179 ,3737},
{179 ,3732},
{184 ,3728},
{182 ,3723},
{184 ,3718},
{182 ,3710},
{182 ,3702},
{184 ,3695},
{184 ,3685},
{182 ,3678},
{187 ,3677},
{193 ,3675}, 
{198 ,3671},
{195 ,3650},
{204 ,3592},
{223 ,3507},
{278 ,3370},
{278 ,3299},
{234 ,3283},
{215 ,3276},
{204 ,3273},
{193 ,3270},
{193 ,3268},
{190 ,3268},
{184 ,3266} 
      
}; 

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = 
{
 {0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0}, 
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0},
{0 ,0}
};    

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

